#summary User Guide for the OWASP BWA VM.
#labels Featured

<wiki:toc max_depth="2" />

= Introduction =

This is the user guide for the OWASP BWA VM.  

* NOTE - This document is a work in progress.  Please provide us [#Getting_Involved feedback] on any errors or areas not covered *

= Applications included (as of the 1.0 release) =

This project includes applications from various sources.

==Training Applications:==
  * [http://www.owasp.org/index.php/Category:OWASP_WebGoat_Project OWASP WebGoat] version 5.4+SVN (Java)
  * [https://www.owasp.org/index.php/Category:OWASP_WebGoat.NET OWASP WebGoat.NET] version 2012-07-05+GIT
  * [https://www.owasp.org/index.php/ESAPI_Swingset OWASP ESAPI Java SwingSet Interactive] version 1.0.1+SVN
  * [http://www.irongeek.com/i.php?page=security/mutillidae-deliberately-vulnerable-php-owasp-top-10 Mutillidae] version 2.2.2 (PHP)
  * [http://www.dvwa.co.uk/ Damn Vulnerable Web Application] version 1.8+SVN (PHP)
  * [http://www.gh0s7.net/ Ghost] (PHP)

  
==Realistic, Intentionally Vulnerable Applications:==
  * [http://www.owasp.org/index.php/Category:OWASP_Vicnum_Project OWASP Vicnum] version 1.5 (PHP/Perl)
  * [http://peruggia.sourceforge.net/ Peruggia] version 1.2 (PHP)
  * [http://google-gruyere.appspot.com/ Google Gruyere] version 2010-07-15 (Python)
  * [http://hackxor.sourceforge.net/cgi-bin/index.pl Hackxor] version 2011-04-06 (Java JSP)
  * [https://github.com/adamdoupe/WackoPicko WackoPicko] version 2011-07-12+GIT (PHP)
  * [http://code.google.com/p/bodgeit/ BodgeIt] version 1.3+SVN (Java JSP)

==Old Versions of Real Applications:==
  * [http://wordpress.org/ WordPress] 2.0.0 (PHP, released December 31, 2005) with plugins:
    * [http://www.wildbits.de/mygallery/ myGallery] version 1.2
    * [http://timrohrer.com/blog/?page_id=71 Spreadsheet for WordPress] version 0.6
  * [http://www.orangehrm.com/ OrangeHRM] version 2.4.2 (PHP, released May 7, 2009)
  * [http://sourceforge.net/projects/getboo/ GetBoo] version 1.04 (PHP, released April 7, 2008)
  * [http://www.gtd-php.com/ gtd-php] version 0.7 (PHP, released September 30, 2006)
  * [http://www.forumsoftware.ca/ Yazd] version 1.0 (Java, released February 20, 2002)
  * [http://www.k5n.us/webcalendar.php WebCalendar] version 1.03 (PHP, released April 11, 2006)
  * [http://gallery.menalto.com/ Gallery2] version 2.1 (PHP, released March 23, 2006)
  * [http://owaspbwa/tikiwiki TikiWiki] version 1.9.5 (PHP, released September 5, 2006)
  * [http://www.joomla.org/ Joomla] version 1.5.15 (PHP, released November 4, 2009)
  * [http://awstats.sourceforge.net/ AWStats] version 6.4 (build 1.814, Perl, released February 25,2005)

==Applications for Testing Tools:==
  * [http://code.google.com/p/zaproxy/ OWASP ZAP-WAVE] version 0.2+SVN (Java JSP)
  * [http://code.google.com/p/wavsep/ WAVSEP] version 1.2 (Java JSP)
  * [http://code.google.com/p/wivet/ WIVET] version 3+SVN (Java JSP)

==Demonstration Pages / Small Applications:==
  * [http://www.owasp.org/index.php/Category:OWASP_CSRFGuard_Project OWASP CSRFGuard] Test Application version 2.2 (Java)
  * [http://www.mandiant.com/ Mandiant] Struts Forms (Java/Struts)
  * Simple ASP.NET Forms (ASP.NET/C#)
  * Simple Form with DOM Cross Site Scripting (HTML/!JavaScript)
  
==OWASP Demonstration Applications==  
  * [http://www.owasp.org/index.php/Category:OWASP_AppSensor_Project OWASP AppSensor Demo Application] (Java)  
  

= Getting Started =

== Download ==

The VM can be downloaded as a .zip file or as a much smaller [http://www.7-zip.org/ .7z 7-zip Archive].  *BOTH FILES CONTAIN THE EXACT SAME VM!*  I recommend that you download the .7z archive if possible to save bandwidth (and time). 7-zip IS [http://www.7-zip.org/download.html available for Mac, Linux, and other Operating Systems].

Download from [http://sourceforge.net/projects/owaspbwa/files/ http://sourceforge.net/projects/owaspbwa/files/].

== Virtual Machine Format ==

The Open Web Application Security Project (OWASP) Broken Web Applications Project is distributed as a Virtual Machine in [http://www.vmware.com VMware] format compatible with their no-cost [http://www.vmware.com/products/player/ VMware Player] and [http://www.vmware.com/products/vsphere-hypervisor/overview.html VMware vSphere Hypervisor (ESXi)] products (along with their older and commercial products).

See [#Converting_Virtual_Machine_Format Converting Virtual Machine Format] if you want to use the VM with other virtualization software.

The VM requires no installation.  Simply extract the files from the archive and then start the VM in your virtualization software.

== Viewing the Web Page ==

When the OWASP BWA VM is started, it will provide information on the console with the IP address of the VM and various ways to access and manage it.  

It is highly recommended (though not required) that you add an entry into your 'hosts' file of your virtual host OS to resolve the hostname 'owaspbwa' with the IP address shown in the console on bootup.  The entry will look like below (replace 192.168.15.130 with the IP of your VM).  This document (and the vulnerability list http://sourceforge.net/apps/trac/owaspbwa/report/1) assume that you have added this entry.

{{{
192.168.15.130	owaspbwa
}}}

Once the entry is added, you can view the main page for the VM at http://owaspbwa/.  That page includes links and lots of additional information about each of the applications.

== Application Usernames and Passwords ==

In general, applications on OWASP BWA have been configured with an administrative account named 'admin' with a password of 'admin' and a "normal" user account named 'user' with a password of 'user'.  In some cases, however, this was not possible or additional accounts were required.

The full list of credentials for each application can be found on the main OWASP BWA web page (in the VM at http://owaspbwa/).  In order to view the credentials for each application, click the *green plus* next to the application name on that we page to show more information about the application.

= Management =

Once booted, the VM can be administered few a few different mechanisms. Note, these are not considered "in scope" for the vulnerabilities in the VM... they are just there to support management.  Administrative interfaces:
  * SSH
  * Samba shares
  * Console login
  * PHPMyAdmin (at `http://owaspbwa/phpmyadmin/`)

*In all cases, use a username of "root" and a password of "owaspbwa".*

= Updating application code =

Software for many applications can be updated in place by editing the files (.php, .jsp, .aspx, etc). 

For applications that require rebuilding before changes take effect, the following table shows the command that can be run in a terminal to run to rebuild and redeploy the application:

|| Application || Source Location (Share) || Rebuild Commmand ||
|| OWASP !WebGoat (Java) || \\owaspbwa\owaspbwa\!WebGoat-svn\ || owaspbwa-webgoat-rebuild.sh ||
|| OWASP !WebGoat.NET || \\owaspbwa\owaspbwa\webgoat.net-git\ || Cannot currently be rebuilt on VM. Can rebuild on another machine via share. ||
|| OWASP ESAPI !SwingSet Interactive || \\owaspbwa\owaspbwa\owasp-esapi-java-swingset-interactive-svn || owaspbwa-swingset-interactive-rebuild.sh ||
|| OWASP CSRFGuard Test Applications || \\owaspbwa\owaspbwa\owaspbwa-svn\misc-src\OWASP-CSRFGuard-!TestApp-2.2-src and \\owaspbwa\owaspbwa\owaspbwa-svn\misc-src\OWASP-CSRFGuard-!TestApp-2.2-Vulnerable-src || owaspbwa-csrfguard-test-apps-rebuild.sh ||
|| Yazd || \\owaspbwa\owaspbwa\owaspbwa-svn\misc-src\Yazd_1.0-src || owaspbwa-yazd-rebuild.sh ||

= Enabling and Disabling OWASP !ModSecurity Core Rule Set =

The VM ships with Apache !ModSecurity enabled, but no rules sets in use (so nothing is blocked or logged).  

In order to log (but not block) any requests using the [https://www.owasp.org/index.php/Category:OWASP_ModSecurity_Core_Rule_Set_Project OWASP !ModSecurity Core Rule Set], run the following command.  Log messages appear in /var/log/apache2/error.log (shared at \\owaspbwa\var\log\apache2\error.log).

{{{
owaspbwa-modsecurity-crs-log.sh
}}}

In order to both block and log requests using the OWASP !ModSecurity Core Rule Set, run:

{{{
owaspbwa-modsecurity-crs-block.sh
}}}


To disable all !ModSecurity rules (returning to the state the VM ships in), run:

{{{
owaspbwa-modsecurity-crs-off.sh
}}}

Users can edit the Core Rule Set rules in effect by editing files under /etc/apache2/modsecurity-crs/ (shared at \\owaspbwa\etc\apache2\modsecurity-crs\).  Users are also free to alter the Apache configuration to use an entirely different set of !ModSecurity rules.

= Advanced Topics =

== Converting Virtual Machine Format ==

The OWASP BWA developers believe that the VM should be easily convertible to run under virtualization software other than VMware products, but the process has not been attempted. 

Users who attempt to use the VM in another virtualization software are encouraged to provide [#Getting_Involved feedback] on the process, weather or not it was successful.

== Updating components from repositories =

Various components on the OWASP BWA VM can be updated from their public repositories.  Any such updates carry a risk of breaking the respective application, but have potential to provide additional features without having to wait for the next release of the OWASP BWA VM.

Generally, users who desire this feature should try updating all components first.  If errors are encountered, please report them to the OWASP BWA developers.  Then, revert the VM to an earlier, working state and attempt to update only the OWASP BWA specific content.

=== All Components ===

In order to update the files for OWASP BWA, along with code for applications that are pulled from public source code repositories, run the command:

{{{
owaspbwa-update-all.sh
}}}

This may result in application errors if there are updates to the application that do not work in the VM.  This is often due to changes in the structure of the database used by the application.  If this occurs, check the application for instructions on how to rebuild the database.  Some applications include a page or link that will rebuild the database automatically.

=== OWASP BWA Specific Content ===

Code and files that are not available in any other public repositories are stored in the SVN repository for OWASP BWA at Google Code.  That can be updated by running:

{{{
owaspbwa-update-owaspbwa-only.sh
}}}

Running this command may also update the application databases stored on the VM. That update may cause issues with applications that have their own public repository since the application itself is not updated by this command.

= Getting Involved =

== Reporting Bugs == 

All known bugs (not the intentional security issues) in the VM are in the [https://code.google.com/p/owaspbwa/issues/list Google Code issue tracker] (that is, "Issues" in the menu above).  Please report any additional bugs you discover.

== Known Vulnerabilities ==

The known security vulnerabilities in the applications are tracked at http://sourceforge.net/apps/trac/owaspbwa/report/1. Please submit any additional issues that you discover. 

== Google Group ==

This project has a (relatively low traffic) Google Group at http://groups.google.com/group/owaspbwa.  Feel free to join and ask questions about the VM, make suggestions, etc.

== Twitter ==

To get release announcements and other news from the project on Twitter, follow @owaspbwa or visit https://twitter.com/owaspbwa/.