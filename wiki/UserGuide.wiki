#summary User Guide for the OWASP BWA VM.

<wiki:toc max_depth="2" />

= Introduction =

This will be the user guide for the OWASP BWA VM.  For details about the applications included in the VM, see the ProjectSummary page.

* !!! NOTE - This document is a work in progress.  Please provide us [#Getting_Involved feedback] on any errors or areas not covered !!! *

= Getting Started =

== Virtual Machine Format ==

The OWASP BWA VM is distributed in VMware virtual machine and virtual disk format.  It has been specifically configured to work with their no cost (Player and Server) and older products (in addition to their newer, commercial offerings).

See [#Converting_Virtual_Machine_Format Converting Virtual Machine Format] if you want to use the VM with other virtualization software.

== Viewing Web Page ==

When the OWASP BWA VM is started, it will provide information on the console with the IP address of the VM and various ways to access and manage it.  

It is highly recommended (though not required) that you add an entry into your 'hosts' file of your virtual host OS to resolve the hostname 'owaspbwa' with the IP address shown in the console on bootup.  The entry will look like below (replace 192.168.15.130 with the IP of your VM).  This document (and the vulnerability list http://sourceforge.net/apps/trac/owaspbwa/report/1) assume that you have added this entry.

{{{
192.168.15.130	owaspbwa
}}}

Once the entry is added, you can view the main page for the VM at http://owaspbwa/.  That page includes links and lots of additional information about each of the applications.

== Usernames and Passwords ==

In general, applications on OWASP BWA have been configured with an administrative account named 'admin' with a password of 'admin' and a "normal" user account named 'user' with a password of 'user'.  In some cases, however, this was not possible or additional accounts were required.

The full list of credentials for each application can be found on the main OWASP BWA web page (in the VM at http://owaspbwa/).  In order to view the credentials for each application, click the *green plus* next to the application name on that we page to show more information about the application.

= Updating application code =

Software for many applications can be updated in place by editing the files (.php, .jsp, .aspx, etc). 

For applications that require rebuilding before changes take effect, the following table shows the command that can be run in a terminal to run to rebuild and redeploy the application:

|| Application || Source Location (Share) || Rebuild Commmand ||
|| OWASP !WebGoat (Java) || \\owaspbwa\owaspbwa\!WebGoat-svn\ || owaspbwa-webgoat-rebuild.sh ||
|| OWASP !WebGoat.NET || \\owaspbwa\owaspbwa\webgoat.net-git\ || Cannot currently be rebuilt on VM. Can rebuild on another machine via share. ||
|| OWASP ESAPI !SwingSet Interactive || \\owaspbwa\owaspbwa\owasp-esapi-java-swingset-interactive-svn || owaspbwa-swingset-interactive-rebuild.sh ||
|| OWASP CSRFGuard Test Applications || \\owaspbwa\owaspbwa\owaspbwa-svn\misc-src\OWASP-CSRFGuard-!TestApp-2.2-src and \\owaspbwa\owaspbwa\owaspbwa-svn\misc-src\OWASP-CSRFGuard-!TestApp-2.2-Vulnerable-src || owaspbwa-csrfguard-test-apps-rebuild.sh ||
|| Yazd || \\owaspbwa\owaspbwa\owaspbwa-svn\misc-src\Yazd_1.0-src || owaspbwa-yazd-rebuild.sh ||

= Enabling and Disabling OWASP !ModSecurity Core Rule Set =

The VM ships with Apache !ModSecurity enabled, but no rules sets in use (so nothing is blocked or logged).  

In order to log (but not block) any requests using the [https://www.owasp.org/index.php/Category:OWASP_ModSecurity_Core_Rule_Set_Project OWASP !ModSecurity Core Rule Set], run the following command.  Log messages appear in /var/log/apache2/error.log (shared at \\owaspbwa\var\log\apache2\error.log).

{{{
owaspbwa-modsecurity-crs-log.sh
}}}

In order to both block and log requests using the OWASP !ModSecurity Core Rule Set, run:

{{{
owaspbwa-modsecurity-crs-block.sh
}}}


To disable all !ModSecurity rules (returning to the state the VM ships in), run:

{{{
owaspbwa-modsecurity-crs-off.sh
}}}

Users can edit the Core Rule Set rules in effect by editing files under /etc/apache2/modsecurity-crs/ (shared at \\owaspbwa\etc\apache2\modsecurity-crs\).  Users are also free to alter the Apache configuration to use an entirely different set of !ModSecurity rules.

= Advanced Topics =

== Converting Virtual Machine Format ==

The OWASP BWA developers believe that the VM should be easily convertible to run under virtualization software other than VMware products, but the process has not been attempted. 

Users who attempt to use the VM in another virtualization software are encouraged to provide [#Getting_Involved feedback] on the process, weather or not it was successful.

== Updating components from repositories =

Various components on the OWASP BWA VM can be updated from their public repositories.  Any such updates carry a risk of breaking the respective application, but have potential to provide additional features without having to wait for the next release of the OWASP BWA VM.

Generally, users who desire this feature should try updating all components first.  If errors are encountered, please report them to the OWASP BWA developers.  Then, revert the VM to an earlier, working state and attempt to update only the OWASP BWA specific content.

=== All Components ===

In order to update the files for OWASP BWA, along with code for applications that are pulled from public source code repositories, run the command:

{{{
owaspbwa-update-all.sh
}}}

This may result in application errors if there are updates to the application that do not work in the VM.  This is often due to changes in the structure of the database used by the application.  If this occurs, check the application for instructions on how to rebuild the database.  Some applications include a page or link that will rebuild the database automatically.

=== OWASP BWA Specific Content ===

Code and files that are not available in any other public repositories are stored in the SVN repository for OWASP BWA at Google Code.  That can be updated by running:

{{{
owaspbwa-update-owaspbwa-only.sh
}}}

Running this command may also update the application databases stored on the VM. That update may cause issues with applications that have their own public repository since the application itself is not updated by this command.

= Getting Involved =

== Reporting Bugs == 

All known bugs (not the intentional security issues) in the VM are in the Google Code issue tracker (see "Issues" in the menu above).  Please report any additional bugs you discover.

== Known Vulnerabilities ==

The known security vulnerabilities in the applications are tracked at http://sourceforge.net/apps/trac/owaspbwa/report/1. Please submit any additional issues that you discover. 

== Google Group ==

This project has a (relatively low traffic) Google Group at http://groups.google.com/group/owaspbwa.  Feel free to join and ask questions about the VM, make suggestions, etc.

== Twitter ==

To get release announcements and other news from the project on Twitter, follow @owaspbwa or visit https://twitter.com/owaspbwa/.